<!DOCTYPE html>
<html lang="en-gb">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-137603733-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-137603733-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  <meta name="author" content="Casey Williams">
  <meta name="description" content="A place for me to share my projects, thoughts and experiences.">
  <meta name="keywords" content="programming, coding, development, machine learning, AI, finance, Imperial College London">
  <meta name="google-site-verification" content="LXzqxiRkBwSXRYifNgzIU_m6zvSHA6ZDD9MoIiQpP-Y" />
  <link rel="prev" href="https://caseywilliams.me/2020/my-first-year-of-university/" />
  
  <link rel="canonical" href="https://caseywilliams.me/2021/hacking-for-free-red-bull/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Hacking For Free Red Bull | Casey Williams
       
  </title>
  <meta name="title" content="Hacking For Free Red Bull | Casey Williams">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/caseywilliams.me"
    },
    "articleSection" : "posts",
    "name" : "Hacking For Free Red Bull",
    "headline" : "Hacking For Free Red Bull",
    "description" : "I\u0026rsquo;ve been getting this Red Bull ad on about every 9 out of 10 YouTube videos recently. So I decided to check it out. Heading to the site you\u0026rsquo;ll find a \u0026lsquo;study puzzle\u0026rsquo; which awaits you. The puzzle consists of connecting all the dots together, without using the same dot twice. There are 10 rounds, with each puzzle increasing in difficulty. After a little bit of grinding out the game, my friend Jules managed to top the leaderboard with a lovely score of 1731 (I only managed to reach 6th place).",
    "inLanguage" : "en-gb",
    "author" : "Casey Williams",
    "creator" : "Casey Williams",
    "publisher": "Casey Williams",
    "accountablePerson" : "Casey Williams",
    "copyrightHolder" : "Casey Williams",
    "copyrightYear" : "2021",
    "datePublished": "2021-05-04 00:00:00 \u002b0000 UTC",
    "dateModified" : "2021-05-04 00:00:00 \u002b0000 UTC",
    "url" : "https:\/\/caseywilliams.me\/2021\/hacking-for-free-red-bull\/",
    "wordCount" : "674",
    "keywords" : [ "hacking", "Casey Williams"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont2 icon-adjust"></i></a>&nbsp;<a href="https://caseywilliams.me">Casey Williams</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/projects/" title="">Projects</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont2 icon-adjust"></i></a>&nbsp;<a href="https://caseywilliams.me">Casey Williams</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/projects/" title="">Projects</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>

    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Hacking For Free Red Bull</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://caseywilliams.me" rel="author">Casey Williams</a> 
                <span class="post-time">
                on <time datetime=2021-05-04 itemprop="datePublished">May 4, 2021</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://caseywilliams.me/categories/cool-stuff/"> cool-stuff </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          <p>I&rsquo;ve been getting this Red Bull ad on about every 9 out of 10 YouTube videos recently.
<img src="/images/redbullhacking/redbulladd.png" alt=""></p>
<p>So I decided to check it out. Heading to the <a href="https://redbull.co.uk/exams" target="_blank">site</a>
 you&rsquo;ll find a &lsquo;study puzzle&rsquo; which awaits you. The puzzle consists of connecting all the dots together, without using the same dot twice. There are 10 rounds, with each puzzle increasing in difficulty. After a little bit of grinding out the game, my friend Jules managed to top the leaderboard with a lovely score of <strong>1731</strong> (I only managed to reach 6th place). We thought, wouldn&rsquo;t it be cool to write a little path finding algorithm and control the browser using <a href="https://www.selenium.dev/" target="_blank">Selenium</a>
 to solve the puzzles as quickly as possible?</p>
<p><img src="/images/redbullhacking/puzzle.png" alt=""></p>
<p>The next day I started off by going back through my graphs and algorithms notes from last year. The problem is known as the <a href="https://en.wikipedia.org/wiki/Hamiltonian_path" target="_blank">Hamiltonian path problem</a>
. I wrote out the solution in Python and then started to look at the site, to see if it would be possible, and if so how, to interact with the game via Selenium.</p>
<p>Inspecting the page I found that the points were in the DOM of the page, which looked hopeful. However, I&rsquo;m not that well-versed with Selenium and wondered if there would be an easier way to beating the puzzle - maybe I could access some value which was used to submit my score to the leaderboard and alter it before it was sent? So that&rsquo;s what I set about looking for.</p>
<p>I wondered round the source until I found the game&rsquo;s JavaScript file, then copied it and put it into <a href="https://jsnice.org" target="_blank">jsnice.org</a>
 to go searching some more. The game was submitting the score to an api endpoint with a few different requests in order to generate some ids which were used to identify the current &lsquo;game&rsquo; (which I&rsquo;m assuming is the current week, the leaderboard resets every week), and also the &lsquo;run&rsquo; which was your attempt at the puzzle.</p>
<p>Then, monitoring the network traffic in the developer tab of Chrome I looked for all traffic to &lsquo;/api*&rsquo;. I found that when you initially load the page a request was made to an endpoint which registered your new run and inside the response was an id. Allowing the game to timeout then caused another request to a leaderboard endpoint. I noted the run id and then took a look at what the leaderboard endpoint gave you. Here is a snippet of the response which is actually Jules' entry!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;data&#34;</span>:[
    {
	<span style="color:#f92672">&#34;attributes&#34;</span>:{
            <span style="color:#f92672">&#34;finished_at&#34;</span>:<span style="color:#e6db74">&#34;2021-05-03T20:12:07Z&#34;</span>,
            <span style="color:#f92672">&#34;id&#34;</span>:<span style="color:#e6db74">&#34;992a0348-91ac-4249-91d1-011ad53ce047&#34;</span>,
            <span style="color:#f92672">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;Icy Morning&#34;</span>,
            <span style="color:#f92672">&#34;position&#34;</span>:<span style="color:#ae81ff">1</span>,
            <span style="color:#f92672">&#34;score&#34;</span>:<span style="color:#ae81ff">1731</span>,
            <span style="color:#f92672">&#34;yours&#34;</span>:<span style="color:#66d9ef">false</span>
	},
         <span style="color:#f92672">&#34;id&#34;</span>:<span style="color:#e6db74">&#34;992a0348-91ac-4249-91d1-011ad53ce047&#34;</span>,
	 <span style="color:#f92672">&#34;links&#34;</span>:{
            <span style="color:#f92672">&#34;self&#34;</span>:<span style="color:#e6db74">&#34;https://rb-prjct-crtns-gamebackend-eu.herokuapp.com/leaderboard_entries/992a0348-91ac-4249-91d1-011ad53ce047&#34;</span>
	 }
    }
    ]
}
</code></pre></div><p>Playing around with the request actually changed the position returned for my own score, but didn&rsquo;t seem to affect the leaderboard when playing again. This endpoint was only used to generate the little leaderboard preview once you had finished the game, no submitting of scores was done here. Moving on&hellip;</p>
<p>Upon pressing the submit button a request is made to another endpoint where a payload is passed in. Lucky for me, this payload contained my score! The url was made up of the game id and run id which could both be found from the initial runs request. Lovely. Now time to try and post a request of my own.</p>
<p>I refreshed the page and copied down the new run id without pressing the start button. Simply using curl and copying some of the request headers, I sent a post request to the correct endpoint with my ids and a score of 2000 (thinking that was the maximum as there were 10 rounds of 20 seconds each with Jules scoring 1731 while rarely spending more than 4 seconds per round). And sure enough, after pressing start and letting the game timeout, the leaderboard displayed with me at the top, score 2000. Awesome.</p>
<p>But was 2000 really the maximum? Of course it wasn&rsquo;t, why not really put myself at the top with a lovely score of 123456789. Even better. Now, let&rsquo;s just hope I still get those 2 cans of Red Bull.</p>
<p><img src="/images/redbullhacking/leaderboard.png" alt=""></p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Casey Williams </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://caseywilliams.me/2021/hacking-for-free-red-bull/>https://caseywilliams.me/2021/hacking-for-free-red-bull/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                MIT License
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://caseywilliams.me/tags/hacking/">
                    #hacking</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://caseywilliams.me">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://caseywilliams.me/2020/my-first-year-of-university/" class="prev" rel="prev" title="My First Year of University"><i class="iconfont icon-left"></i>&nbsp;My First Year of University</a>
         
        
    </div>

    <div class="post-comment">
          
                 
                     <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "shnupta" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2017 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont2 icon-code"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://caseywilliams.me">Casey Williams</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  




     </div>
  </body>
</html>
